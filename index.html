  <!DOCTYPE html>
<html lang="el">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no,viewport-fit=cover" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Duck Surfers</title>
    <link rel="preconnect" href="self" />
    <link rel="preload" href="Assets/ducky.png" as="image" />
    <link rel="preload" href="Assets/noufaro.png" as="image" />
    <link rel="preload" href="Assets/shield.png" as="image" />
    <link rel="preload" href="Assets/doro.png" as="image" />
    <link rel="preload" href="Assets/river.mp4" as="video" type="video/mp4" />
    <link rel="preload" href="Assets/mobileriver.mov" as="video" type="video/quicktime" />
    <link rel="preload" href="game.js" as="script" />
        <link rel="stylesheet" href="styles.css?v=1759247265" />
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-firestore-compat.js"></script>
  </head>
  <body>
    <div id="game-root">
            <div id="hud">
        <div class="hud-bar">
          <span class="hud-item">
            <span class="hud-label">Score:</span>
            <span id="score" class="hud-value">0</span>
          </span>
          <span class="hud-item">
            <span class="hud-label">Speed:</span>
            <span id="speed" class="hud-value">1.0x</span>
          </span>
          <span class="hud-item">
            <span class="hud-label">Bonus:</span>
            <span id="bonus" class="hud-value">0%</span>
          </span>
          <span class="hud-item">
            <span id="shield-indicator" class="shield-indicator hidden">🛡️</span>
          </span>
          <span class="hud-item">
            <input type="checkbox" id="checkboxInput" checked>
            <label for="checkboxInput" class="toggleSwitch">
              <div class="speaker"><svg xmlns="http://www.w3.org/2000/svg" version="1.0" viewBox="0 0 75 75">
                <path d="M39.389,13.769 L22.235,28.606 L6,28.606 L6,47.699 L21.989,47.699 L39.389,62.75 L39.389,13.769z" style="stroke:#fff;stroke-width:5;stroke-linejoin:round;fill:#fff;"></path>
                <path d="M48,27.6a19.5,19.5 0 0 1 0,21.4M55.1,20.5a30,30 0 0 1 0,35.6M61.6,14a38.8,38.8 0 0 1 0,48.6" style="fill:none;stroke:#fff;stroke-width:5;stroke-linecap:round"></path>
              </svg></div>
              <div class="mute-speaker"><svg version="1.0" viewBox="0 0 75 75" stroke="#fff" stroke-width="5">
                <path d="m39,14-17,15H6V48H22l17,15z" fill="#fff" stroke-linejoin="round"></path>
                <path d="m49,26 20,24m0-24-20,24" fill="#fff" stroke-linecap="round"></path>
              </svg></div>
            </label>
          </span>
        </div>
      </div>      <div id="cal-readout" class="cal hidden">Calibration: left=0px spacing=0px tilt=0px anchor=bottom</div>

      <canvas id="game" width="480" height="800" aria-label="Duck Surfers"></canvas>

      <div id="tap-to-start" class="overlay">
        <div class="card outer-box">
          <div class="shadow__outer"></div>
          <p>Απέφυγε τα παράσιτα και μάζεψε προσφορές!</p>
          <p>Κάθε πολύχρωμο νούφαρο είναι 1% προσφορά.</p>
          <p>Μάζεψε όσα πιο πολλά μπορείς.</p>
          <p>Το υψηλότερο σκορ θα είναι ο μεγάλος νικητής!</p>
          <div id="video-loading" class="loading-indicator hidden">
            <div class="spinner"></div>
            <span>Φόρτωση βίντεο...</span>
          </div>
          
          <div id="player-setup">
            <div class="input__container">
              <div class="shadow__input"></div>
              <button class="input__button__shadow">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="#000000"
                  width="20px"
                  height="20px"
                >
                  <path d="M0 0h24v24H0z" fill="none"></path>
                  <path
                    d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"
                  ></path>
                </svg>
              </button>
              <input
                type="text"
                id="initial-player-name"
                class="input__search"
                placeholder="Enter username"
                maxlength="20"
                data-original-placeholder="Enter username"
              />
            </div>
          </div>
          
          <div class="button-row">
            <button id="start-btn" class="btn-3d btn-primary">Ξεκίνα</button>
            <button id="show-leaderboard-main-btn" class="btn-3d btn-secondary">Κατάταξη</button>
          </div>
        </div>
      </div>

      <div id="paused" class="overlay hidden">
        <div class="card outer-box">
          <div class="shadow__outer"></div>
          <h2>Παύση</h2>
          <button id="resume-btn" class="btn-3d">Συνέχισε</button>
        </div>
      </div>

      <div id="game-over" class="overlay hidden">
        <div class="card outer-box">
          <div class="shadow__outer"></div>
          <h2>Game Over</h2>
          <p id="gover-msg">Προσπάθησε ξανά!</p>
          <p><strong>Τελικό Σκορ:</strong> <span id="final-score">0</span></p>
          <div id="offer-section" class="hidden">
            <p id="offer-desc">Κέρδισες προσφορά για το Drop</p>
            <div class="code-display-box">
              <div class="shadow__outer"></div>
              <code id="offer-code">DUCKDROP-XXXXXX</code>
              <button id="copy-code" class="input__button__shadow">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#000000" width="20px" height="20px">
                  <path d="M0 0h24v24H0z" fill="none"/>
                  <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                </svg>
              </button>
            </div>
          </div>
          <div id="score-status" class="hidden">
            <p id="score-message">Καταχώρηση σκορ...</p>
          </div>
          <div class="actions">
            <button id="show-leaderboard-btn" class="btn-3d btn-secondary">Κατάταξη</button>
            <button id="restart-btn" class="btn-3d btn-primary">Ξαναπαίξε</button>
          </div>
        </div>
      </div>

      <div id="leaderboard-overlay" class="overlay hidden">
        <div class="card outer-box">
          <div class="floating-ducks">
            <img src="Assets/duck.png" class="floating-duck" alt="">
            <img src="Assets/duck.png" class="floating-duck" alt="">
            <img src="Assets/duck.png" class="floating-duck" alt="">
            <img src="Assets/duck.png" class="floating-duck" alt="">
            <img src="Assets/duck.png" class="floating-duck" alt="">
            <img src="Assets/duck.png" class="floating-duck" alt="">
            <img src="Assets/duck.png" class="floating-duck" alt="">
            <img src="Assets/duck.png" class="floating-duck" alt="">
            <img src="Assets/duck.png" class="floating-duck" alt="">
            <img src="Assets/duck.png" class="floating-duck" alt="">
          </div>
          <div class="shadow__outer"></div>
          <h2>Κατάταξη</h2>
          <div id="leaderboard-loading" class="loading-indicator">
            <div class="spinner"></div>
            <span>Φόρτωση κατάταξης...</span>
          </div>
          <!-- Podium για top 3 -->
          <div id="leaderboard-podium" class="podium hidden"></div>
          <!-- Λίστα για τους υπόλοιπους -->
          <ul id="leaderboard" class="hidden"></ul>
          <div class="actions">
            <button id="close-leaderboard-btn" class="btn-3d">Κλείσιμο</button>
          </div>
        </div>
      </div>
    </div>

    <audio id="background-music" loop preload="auto">
      <source src="Assets/music.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="gameover-sound" preload="auto">
      <source src="Assets/gameover.mp3" type="audio/mpeg">
    </audio>

    <audio id="noufaro-sound" preload="auto" crossorigin="anonymous">
      <source src="Assets/noufarosound.mp3" type="audio/mpeg">
    </audio>

    <audio id="shield-sound" preload="auto" crossorigin="anonymous">
      <source src="Assets/shieldsound.mp3" type="audio/mpeg">
    </audio>

    <audio id="shieldbreak-sound" preload="auto" crossorigin="anonymous">
      <source src="Assets/shieldbreak.mp3" type="audio/mpeg">
    </audio>

    <script src="firebase-config.js"></script>
    <script src="firebase-leaderboard.js"></script>
    <script src="firebase-test.js"></script>
    <script src="game.js?v=1759247265"></script>
  </body>
  </html>
