<!DOCTYPE html>
<html lang="el">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Duck Surfers</title>
    <link rel="preconnect" href="self" />
    <link rel="preload" href="Assets/ducky.png" as="image" />
    <link rel="preload" href="Assets/noufaro.png" as="image" />
    <link rel="preload" href="Assets/shield.png" as="image" />
    <link rel="preload" href="Assets/doro.png" as="image" />
    <link rel="preload" href="Assets/river.mp4" as="video" type="video/mp4" />
    <link rel="preload" href="Assets/mobileriver.mov" as="video" type="video/quicktime" />
    <link rel="preload" href="game.js" as="script" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="game-root">
      <div id="hud">
        <div class="hud-left">
          <span id="score-label">Score:</span>
          <span id="score">0</span>
        </div>
        <div class="hud-right">
          <span id="speed-label">Speed:</span>
          <span id="speed">1.0x</span>
          <span style="margin-left:12px" id="bonus-label">Bonus:</span>
          <span id="bonus">0%</span>
          <span id="shield-indicator" class="shield-indicator hidden">🛡️</span>
          <button id="music-toggle" class="music-btn" title="Toggle Music">🔇</button>
        </div>
      </div>

      <div id="cal-readout" class="cal hidden">Calibration: left=0px spacing=0px tilt=0px anchor=bottom</div>

      <canvas id="game" width="480" height="800" aria-label="Duck Surfers"></canvas>

      <div id="tap-to-start" class="overlay">
        <div class="card">
          <div class="loader">
            <span>Duck Surfers</span>
          </div>
          <p>Απέφυγε τα νούφαρα και μάζεψε προσφορές!</p>
          <ul class="controls">
            <li>← → ή A/D για μετακίνηση</li>
            <li>Swipe αριστερά/δεξιά στο κινητό</li>
            <li>P για παύση</li>
          </ul>
          <div id="video-loading" class="loading-indicator hidden">
            <div class="spinner"></div>
            <span>Φόρτωση βίντεο...</span>
          </div>
          <button id="start-btn">Ξεκίνα</button>
        </div>
      </div>

      <div id="paused" class="overlay hidden">
        <div class="card">
          <h2>Παύση</h2>
          <button id="resume-btn">Συνέχισε</button>
        </div>
      </div>

      <div id="game-over" class="overlay hidden">
        <div class="card">
          <h2>Game Over</h2>
          <p id="gover-msg">Προσπάθησε ξανά!</p>
          <p><strong>Τελικό Σκορ:</strong> <span id="final-score">0</span></p>
          <div id="offer-section" class="hidden">
            <p id="offer-desc">Κέρδισες προσφορά για το Drop 🎁</p>
            <div class="code-row">
              <code id="offer-code">DUCKDROP-XXXXXX</code>
              <button id="copy-code">Αντιγραφή</button>
            </div>
          </div>
          <div class="actions">
            <button id="restart-btn" class="primary">Ξαναπαίξε</button>
          </div>
        </div>
      </div>
    </div>

    <audio id="background-music" loop preload="auto">
      <source src="Assets/music.mp3" type="audio/mpeg">
    </audio>

    <script src="game.js"></script>
  </body>
  </html>
